name       : scummvm
version    : 2.1.1
release    : 15
source     :
    - https://github.com/scummvm/scummvm/archive/v2.1.1.tar.gz : b5d70a9f2d146861589207b9f609ba270917c7ec3725305b3bf94ee90843b734
license    : GPL-2.0-only
component  : games.emulator
summary    : ScummVM is a program which allows you to run certain classic graphical point-and-click adventure games, provided you already have their data files
description: |
    ScummVM is a program which allows you to run certain classic graphical point-and-click adventure games, provided you already have their data files. The clever part about this: ScummVM just replaces the executables shipped with the games, allowing you to play them on systems for which they were never designed!
builddeps  :
    - pkgconfig(alsa)
    - pkgconfig(freetype2)
    - pkgconfig(flac)
    - pkgconfig(fluidsynth)
    - pkgconfig(libmpeg2)
    - pkgconfig(libopenjp2)
    - pkgconfig(libturbojpeg)
    - pkgconfig(sdl2)
    - pkgconfig(theoradec)
    - pkgconfig(vorbisfile)
    - pkgconfig(x11)
    - faad-devel
    - libmad-devel
setup      : |
    %patch -p1 < $pkgfiles/Fix-compilation-against-fluidsynth-2.1.patch
    %patch -p1 < $pkgfiles/Really-fix-compilation-against-fluidsynth-2.1.patch
    ./configure --prefix=/usr
build      : |
    %make
install    : |
    %make_install
    rm -fr $installdir/usr/share/doc

    install -D -m00644 dists/scummvm.desktop $installdir/usr/share/applications/scummvm.desktop
check      : |
    %make test
